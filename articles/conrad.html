<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="conrad">
<title>Introduction to conrad • conrad</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to conrad">
<meta property="og:description" content="conrad">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">conrad</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/conrad.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/api-key.html">Configuring API Key</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/fhdsl/conrad/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction to conrad</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/fhdsl/conrad/blob/HEAD/vignettes/conrad.Rmd" class="external-link"><code>vignettes/conrad.Rmd</code></a></small>
      <div class="d-none name"><code>conrad.Rmd</code></div>
    </div>

    
    
<p>This vignette introduces you to conrad’s functions for speech
synthesis with Microsoft Azure’s <a href="https://learn.microsoft.com/en-us/azure/cognitive-services/Speech-Service/rest-text-to-speech?tabs=streaming" class="external-link">Text
to Speech REST API</a>. Also, it contains several <a href="#examples">examples</a> of audio output demonstrating synthesized
speech. The API enables neural text to speech voices, which support
specific languages and dialects that are identified by locale. Each
available endpoint is associated with a region.</p>
<p>To utilize the Speech service, you must register an account on the
Microsoft Azure Cognitive Services and obtain an API Key. Without one,
this package will not work. Please refer to the API Key vignette for
guidance.</p>
<div class="section level2">
<h2 id="get-a-list-of-voices">Get a list of voices<a class="anchor" aria-label="anchor" href="#get-a-list-of-voices"></a>
</h2>
<p><code><a href="../reference/ms_list_voice.html">ms_list_voice()</a></code> performs an HTTP request to the
<code>tts.speech.microsoft.com/cognitiveservices/voices/list</code>
endpoint to get a full list of voices for a specific region. It attaches
a region prefix to this endpoint to get a list of voices for that
region.</p>
<p>For example, assuming the <code>Location/Region</code> associated
with the API key is <code>westus</code>, using
<code><a href="../reference/ms_list_voice.html">ms_list_voice()</a></code> will access the
<code>https://westus.tts.speech.microsoft.com/cognitiveservices/voices/list</code>
endpoint, providing a list of voices exclusively from the
<code>westus</code> region.</p>
<p>WARNING: Specify the Speech resource region that corresponds to your
API Key</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/fhdsl/conrad" class="external-link">conrad</a></span><span class="op">)</span></span>
<span><span class="va">list_voice</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ms_list_voice.html">ms_list_voice</a></span><span class="op">(</span>region <span class="op">=</span> <span class="st">"westus"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">list_voice</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span><span class="op">]</span>, <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<p>The output is a data frame containing several columns, including
<code>Name</code>, <code>DisplayName</code>, <code>LocalName</code>,
<code>ShortName</code>, <code>Gender</code>, <code>Locale</code>,
<code>LocaleName</code>, and several other columns that you don’t need
to worry about. Among these columns, <code>Name</code>,
<code>Locale</code>, and <code>Gender</code> are the only columns that
are used in <code><a href="../reference/ms_synthesize.html">ms_synthesize()</a></code>, the primary function enabling
text-to-speech (speech synthesis) using Microsoft’s Text to Speech
API.</p>
</div>
<div class="section level2">
<h2 id="text-to-speech">Text-to-Speech<a class="anchor" aria-label="anchor" href="#text-to-speech"></a>
</h2>
<p>To convert text-to-speech, use the function
<code><a href="../reference/ms_synthesize.html">ms_synthesize()</a></code> by providing the following arguments:</p>
<ul>
<li>
<code>script</code> : Character vector of text to be converted to
speech</li>
<li>
<code>region</code> : Region for API key</li>
<li>
<code>gender</code> : Sex of the speaker</li>
<li>
<code>language</code> : Language to be spoken</li>
<li>
<code>voice</code> : Full voice name (taken from <code>Name</code>
variable from output of <code><a href="../reference/ms_list_voice.html">ms_list_voice()</a></code>)</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ms_synthesize.html">ms_synthesize</a></span><span class="op">(</span>script <span class="op">=</span> <span class="st">"Hello world, this is a talking computer"</span>, region <span class="op">=</span> <span class="st">"westus"</span>, </span>
<span>                     gender <span class="op">=</span> <span class="st">"Male"</span>, language <span class="op">=</span> <span class="st">"en-US"</span>, </span>
<span>                     voice <span class="op">=</span> <span class="st">"Microsoft Server Speech Text to Speech Voice (en-US, JacobNeural)"</span><span class="op">)</span></span></code></pre></div>
<p>The result is a raw vector of binary data. Convert this into an audio
output:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create file to store audio output</span></span>
<span><span class="va">output_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".wav"</span><span class="op">)</span></span>
<span><span class="co"># Write binary data to output path</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readBin.html" class="external-link">writeBin</a></span><span class="op">(</span><span class="va">res</span>, con <span class="op">=</span> <span class="va">output_path</span><span class="op">)</span></span>
<span><span class="co"># Play audio in browser</span></span>
<span><span class="fu"><a href="../reference/play_audio.html">play_audio</a></span><span class="op">(</span>audio <span class="op">=</span> <span class="va">output_path</span><span class="op">)</span></span></code></pre></div>
<p>You can create a temporary file to store audio output as a WAV file,
write the binary data into this temporary file, and finally play the
audio WAV file in a browser using the <code><a href="../reference/play_audio.html">play_audio()</a></code>
function.</p>
<p>Listen to the audio:</p>
<audio controls><source src="audio/sample1.wav" type="audio/wav"></source></audio>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>For illustration purposes, we have included several embedded audio
files that contain synthesized speech. They all contain different
scripts and voices.</p>
<p>A combination of Canadian capital quickly organized and petitioned
for the same privileges.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ms_synthesize.html">ms_synthesize</a></span><span class="op">(</span>script <span class="op">=</span> <span class="st">"A combination of Canadian capital quickly organized and petitioned for the same privileges."</span>,</span>
<span>                     region <span class="op">=</span> <span class="st">"westus"</span>, gender <span class="op">=</span> <span class="st">"Female"</span>, language <span class="op">=</span> <span class="st">"en-US"</span>, </span>
<span>                     voice <span class="op">=</span> <span class="st">"Microsoft Server Speech Text to Speech Voice (en-US, AshleyNeural)"</span><span class="op">)</span></span>
<span><span class="co"># Create file to store audio output</span></span>
<span><span class="va">output_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".wav"</span><span class="op">)</span></span>
<span><span class="co"># Write binary data to output path</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readBin.html" class="external-link">writeBin</a></span><span class="op">(</span><span class="va">res</span>, con <span class="op">=</span> <span class="va">output_path</span><span class="op">)</span></span></code></pre></div>
<audio controls><source src="audio/sample2.wav" type="audio/wav"></source></audio><p><br></p>
<p>Will we ever forget it.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ms_synthesize.html">ms_synthesize</a></span><span class="op">(</span>script <span class="op">=</span> <span class="st">"Will we ever forget it."</span>,</span>
<span>                     region <span class="op">=</span> <span class="st">"westus"</span>, gender <span class="op">=</span> <span class="st">"Male"</span>, language <span class="op">=</span> <span class="st">"en-US"</span>, </span>
<span>                     voice <span class="op">=</span> <span class="st">"Microsoft Server Speech Text to Speech Voice (en-US, RogerNeural)"</span><span class="op">)</span></span>
<span><span class="co"># Create file to store audio output</span></span>
<span><span class="va">output_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".wav"</span><span class="op">)</span></span>
<span><span class="co"># Write binary data to output path</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readBin.html" class="external-link">writeBin</a></span><span class="op">(</span><span class="va">res</span>, con <span class="op">=</span> <span class="va">output_path</span><span class="op">)</span></span></code></pre></div>
<audio controls><source src="audio/sample3.wav" type="audio/wav"></source></audio><p><br></p>
<p>Death had come with terrible suddenness.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ms_synthesize.html">ms_synthesize</a></span><span class="op">(</span>script <span class="op">=</span> <span class="st">"Death had come with terrible suddenness."</span>,</span>
<span>                     region <span class="op">=</span> <span class="st">"westus"</span>, gender <span class="op">=</span> <span class="st">"Female"</span>, language <span class="op">=</span> <span class="st">"en-US"</span>, </span>
<span>                     voice <span class="op">=</span> <span class="st">"Microsoft Server Speech Text to Speech Voice (en-US, MichelleNeural)"</span><span class="op">)</span></span>
<span><span class="co"># Create file to store audio output</span></span>
<span><span class="va">output_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".wav"</span><span class="op">)</span></span>
<span><span class="co"># Write binary data to output path</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readBin.html" class="external-link">writeBin</a></span><span class="op">(</span><span class="va">res</span>, con <span class="op">=</span> <span class="va">output_path</span><span class="op">)</span></span></code></pre></div>
<audio controls><source src="audio/sample4.wav" type="audio/wav"></source></audio><p><br></p>
<p>It drowned all sound that brute agony and death may have made.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ms_synthesize.html">ms_synthesize</a></span><span class="op">(</span>script <span class="op">=</span> <span class="st">"It drowned all sound that brute agony and death may have made"</span>,</span>
<span>                     region <span class="op">=</span> <span class="st">"westus"</span>, gender <span class="op">=</span> <span class="st">"Female"</span>, language <span class="op">=</span> <span class="st">"en-US"</span>, </span>
<span>                     voice <span class="op">=</span> <span class="st">"Microsoft Server Speech Text to Speech Voice (en-US, ChristopherNeural)"</span><span class="op">)</span></span>
<span><span class="co"># Create file to store audio output</span></span>
<span><span class="va">output_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".wav"</span><span class="op">)</span></span>
<span><span class="co"># Write binary data to output path</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readBin.html" class="external-link">writeBin</a></span><span class="op">(</span><span class="va">res</span>, con <span class="op">=</span> <span class="va">output_path</span><span class="op">)</span></span></code></pre></div>
<audio controls><source src="audio/sample5.wav" type="audio/wav"></source></audio>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Howard Baek, John Muschelli.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
